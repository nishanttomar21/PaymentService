flowchart TD
    A[Start] --> B[1. Retrieve Order Details]
    B -->|"Call Order Service"| C[Order Service]
    C -->|"Return Order Info"| D[2. Select Payment Gateway]
    D -->|"Use Strategy Pattern"| E[Payment Gateway Strategy]
    E -->|"Return Selected Gateway"| F[3. Create Payment Link]
    F -->|"Use Selected Gateway"| G[Payment Gateway]
    G -->|"Return Payment Link"| H[4. Return Payment Link]
    H --> I[End]

    style A fill:#ff9999,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style I fill:#ff9999,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style B fill:#99ff99,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style C fill:#9999ff,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style D fill:#99ff99,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style E fill:#9999ff,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style F fill:#99ff99,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style G fill:#9999ff,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold
    style H fill:#99ff99,stroke:#333,stroke-width:2px,color:#000000,font-weight:bold